os:
  - linux
  - osx

language: python

python:
  - 2.7
  - 3.4

env:
  - CLANG=3.9

before_install:
  - |
      if [ "$TRAVIS_OS_NAME" = "linux" ]; then
        wget -O - http://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add -
        sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
        sudo apt-add-repository "deb http://apt.llvm.org/precise/ llvm-toolchain-precise-$CLANG main"
        sudo apt-get update
        sudo apt-cache search clang
        sudo apt-get -f install clang-$CLANG lldb-$CLANG
      fi

script:
  - |
      if [ "$TRAVIS_OS_NAME" = "linux" ]; then
        CLANG_BIN=clang-$CLANG bash run-tests.sh
      else
        bash run-tests.sh
      fi
